(this.webpackJsonpvideocallingweb=this.webpackJsonpvideocallingweb||[]).push([[0],{11:function(e,n,t){},13:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t(1),r=t.n(o),i=t(4),a=t.n(i),s=(t(11),t(3)),l=t.n(s),u=t(5);var d={localVideoPlayer:{width:250,height:250,backgroundColor:"black"},remoteVideoPlayer:{width:350,height:350,backgroundColor:"yellow"}},f=function(){var e="",n=Object(o.useRef)(null),t=Object(o.useRef)(null),r={video:!0},i=new RTCPeerConnection(null);return Object(o.useEffect)((function(){i.onicecandidate=function(e){e.candidate&&console.log(JSON.stringify(e.candidate))},i.oniceconnectionstatechange=function(e){console.log(e)},i.ontrack=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.streams[0];case 2:t.current.srcObject=e.sent,console.log(n.streams,"peer object on track");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),navigator.mediaDevices.getUserMedia(r).then((function(e){n.current.srcObject=e,console.log(e),console.log(e.getVideoTracks()),i.addTrack(e.getVideoTracks()[0])})).catch((function(e){return console.log(e,"error found")}))}),[]),Object(c.jsxs)("div",{children:[console.log("executing..render.."),Object(c.jsx)("video",{ref:n,autoPlay:!0,style:d.localVideoPlayer}),Object(c.jsx)("video",{ref:t,autoPlay:!0,style:d.remoteVideoPlayer}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){console.log("offer"),i.createOffer().then((function(e){console.log(JSON.stringify(e)),i.setLocalDescription(e)}),(function(e){}))},children:"Offer"}),Object(c.jsx)("button",{onClick:function(){console.log("Answer"),i.createAnswer().then((function(e){console.log(JSON.stringify(e)),i.setLocalDescription(e)}),(function(e){}))},children:"Answer"}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{onChange:function(n){return e=n.target.value}}),Object(c.jsx)("button",{onClick:function(){var n=JSON.parse(e);i.setRemoteDescription(new RTCSessionDescription(n))},children:"Set Remote Desc"}),Object(c.jsx)("button",{onClick:function(){var n=JSON.parse(e);i.addIceCandidate(new RTCIceCandidate(n))},children:"Add candidate"}),Object(c.jsx)("br",{})]})};var b=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(f,{})})},j=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,14)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),c(e),o(e),r(e),i(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(b,{})}),document.getElementById("root")),j()}},[[13,1,2]]]);
//# sourceMappingURL=main.8d45d1b3.chunk.js.map