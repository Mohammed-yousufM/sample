(this.webpackJsonpvideocallingweb=this.webpackJsonpvideocallingweb||[]).push([[0],{10:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t(1),i=t.n(c),r=t(3),s=t.n(r);t(9);var a={localVideoPlayer:{width:250,height:250,backgroundColor:"black"},remoteVideoPlayer:{width:350,height:350,backgroundColor:"yellow"}},l=function(){var e="",n=Object(c.useRef)(null),t=Object(c.useRef)(null),i={video:!0},r=new RTCPeerConnection(null);return Object(c.useEffect)((function(){r.onicecandidate=function(e){e.candidate&&console.log(JSON.stringify(e.candidate))},r.oniceconnectionstatechange=function(e){console.log(e)},r.ontrack=function(e){t.current.srcObject=e.streams[0],console.log(e.streams,"peer object on track")},navigator.mediaDevices.getUserMedia(i).then((function(e){n.current.srcObject=e,console.log(e),console.log(e.getVideoTracks()),r.addTrack(e.getVideoTracks()[0])})).catch((function(e){return console.log(e,"error found")}))}),[]),Object(o.jsxs)("div",{children:[console.log("executing..render.."),Object(o.jsx)("video",{ref:n,autoPlay:!0,style:a.localVideoPlayer}),Object(o.jsx)("video",{ref:t,autoPlay:!0,style:a.remoteVideoPlayer}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(){console.log("offer"),r.createOffer().then((function(e){console.log(JSON.stringify(e)),r.setLocalDescription(e)}),(function(e){}))},children:"Offer"}),Object(o.jsx)("button",{onClick:function(){console.log("Answer"),r.createAnswer().then((function(e){console.log(JSON.stringify(e)),r.setLocalDescription(e)}),(function(e){}))},children:"Answer"}),Object(o.jsx)("br",{}),Object(o.jsx)("textarea",{onChange:function(n){return e=n.target.value}}),Object(o.jsx)("button",{onClick:function(){var n=JSON.parse(e);r.setRemoteDescription(new RTCSessionDescription(n))},children:"Set Remote Desc"}),Object(o.jsx)("button",{onClick:function(){var n=JSON.parse(e);r.addIceCandidate(new RTCIceCandidate(n))},children:"Add candidate"}),Object(o.jsx)("br",{})]})};var d=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(l,{})})},u=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,11)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),o(e),c(e),i(e),r(e)}))};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(d,{})}),document.getElementById("root")),u()},9:function(e,n,t){}},[[10,1,2]]]);
//# sourceMappingURL=main.63e8b901.chunk.js.map